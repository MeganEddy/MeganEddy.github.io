<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Megan Eddy</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: lavender; color: black; }
        header { background: #333; color: white; padding: 1rem; text-align: center; }
        nav { text-align: center; margin: 10px 0; }
        nav a { margin: 0 15px; text-decoration: none; color: #333; font-weight: bold; }
        section { padding: 20px; max-width: 800px; margin: auto; }
        .repo-list { margin-top: 10px; }
        .repo-item { margin: 10px 0; padding: 10px 0; border-bottom: 1px solid #999; } /* No background, just subtle separators */
        .repo-item h3 { margin: 0; }
        .repo-item p { margin: 5px 0; color: #333; }
        .repo-item a { color: #0073e6; text-decoration: none; font-weight: bold; }
        .repo-item a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <header>
        <h1>Megan Eddy</h1>
    </header>
    <nav>
        <a href="#about">About</a>
        <a href="#projects">Work/Projects</a>
        <a href="#education">Education</a>
        <a href="#contact">Contact</a>
    </nav>
    <section id="about">
        <h2>About Me</h2>
        <p>Hi there! Welcome to my personal portfolio. Thank you for being here.</p>
        <p>In my previous life, I was a laboratory microbiologist working in a food safety lab...</p>
    </section>
    <section id="projects">
        <h2>Work/Projects</h2>
        <div id="repo-list">Loading repositories...</div>
    </section>
    <section id="education">
        <h2>Education</h2>
        <p><strong>Bellevue University</strong> - MS, Data Science</p>
        <p><strong>The University of Kansas</strong> - BA, Spanish; BS, Organismal Biology</p>
    </section>
    <section id="contact">
        <h2>Contact</h2>
        <p>Email: <a href="mailto:megmeddy@gmail.com">megmeddy@gmail.com</a></p>
        <p>GitHub: <a href="https://github.com/MeganEddy" target="_blank">MeganEddy</a></p>
        <p>LinkedIn: <a href="https://www.linkedin.com/in/megan-eddy-82553253/" target="_blank">Megan Eddy</a></p>
    </section>

    <script>
        async function loadRepos() {
            const username = "MeganEddy";
            const response = await fetch(`https://api.github.com/users/${username}/repos`);
            const repos = await response.json();
            
            // Exclude 'MeganEddy.github.io'
            const filteredRepos = repos.filter(repo => repo.name !== "MeganEddy.github.io");

            const repoList = document.getElementById("repo-list");
            repoList.innerHTML = "";

            for (const repo of filteredRepos) {
                const readmeResponse = await fetch(`https://api.github.com/repos/${username}/${repo.name}/readme`);
                
                let readmeText = "No description available.";
                let readmeURL = `https://github.com/${username}/${repo.name}#readme`;

                if (readmeResponse.ok) {
                    const readmeData = await readmeResponse.json();
                    const decodedContent = atob(readmeData.content); 
                    const readmeLines = decodedContent.split("\n").slice(0, 3).join(" ");
                    readmeText = readmeLines.length > 0 ? readmeLines : "No description available.";
                }

                // Append project entry without a white box
                const projectHTML = `
                    <div class="repo-item">
                        <h3><a href="${repo.html_url}" target="_blank">${repo.name}</a></h3>
                        <p>${readmeText}...</p>
                        <p><a href="${readmeURL}" target="_blank">Read More</a></p>
                    </div>
                `;
                repoList.innerHTML += projectHTML;
            }
        }

        loadRepos();
    </script>
</body>
</html>
